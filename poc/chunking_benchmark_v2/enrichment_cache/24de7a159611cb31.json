{"original_content": "--set prometheus.prometheusSpec.retention=30d \\ --set prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec.resources.requests.storage=100Gi ``` CloudFlow exposes Prometheus metrics on port 9090 at the `/metrics` endpoint. The metrics include: - **HTTP Metrics**: Request rate, latency, error rate - **Database Metrics**: Connection pool status, query duration - **Worker Metrics**: Job queue size, processing time, failure rate - **System Metrics**: CPU usage, memory usage, heap statistics Example metrics exposed: ``` # HELP cloudflow_http_requests_total Total number of HTTP requests # TYPE cloudflow_http_requests_total counter cloudflow_http_requests_total{method=\"GET\",route=\"/api/workflows\",status=\"200\"} 15420 # HELP cloudflow_http_request_duration_seconds HTTP request duration in seconds # TYPE cloudflow_http_request_duration_seconds histogram cloudflow_http_request_duration_seconds_bucket{method=\"POST\",route=\"/api/workflows\",le=\"0.1\"} 8234 # HELP cloudflow_worker_jobs_processed_total Total number of jobs processed # TYPE cloudflow_worker_jobs_processed_total counter cloudflow_worker_jobs_processed_total{status=\"success\"} 45230 # HELP cloudflow_database_connections Current database connections # TYPE cloudflow_database_connections gauge cloudflow_database_connections{state=\"active\"} 23 ``` ### Grafana Dashboards Access Grafana to view CloudFlow dashboards: ```bash kubectl port-forward -n monitoring svc/prometheus-grafana 3000:80 ``` Import the CloudFlow dashboard (ID: 15847) or use the provided JSON template. Key dashboard panels include: 1. **API Performance**: Request rate, P95/P99 latency, error rate 2. **Resource Usage**: CPU, memory, disk I/O per pod 3. **Database Health**: Connection pool utilization, query performance 4. **Worker Status**: Queue depth, processing rate, job success/failure ratio 5. **System Overview**: Pod status, replica count, autoscaling events ### Logging with CloudWatch CloudFlow logs are automatically shipped to CloudWatch Logs.", "enhanced_content": "TYPE cloudflow, Prometheus metrics, CloudFlow, exposes Prometheus, metrics, total Total, total | CPU, HELP cloudflow_worker_jobs_processed_total Total, HELP cloudflow_http_request_duration_seconds, histogram cloudflow_http_request_duration_seconds_bucket{method=\"POST\",route=\"/api, Grafana Dashboards\n\n--set prometheus.prometheusSpec.retention=30d \\ --set prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec.resources.requests.storage=100Gi ``` CloudFlow exposes Prometheus metrics on port 9090 at the `/metrics` endpoint. The metrics include: - **HTTP Metrics**: Request rate, latency, error rate - **Database Metrics**: Connection pool status, query duration - **Worker Metrics**: Job queue size, processing time, failure rate - **System Metrics**: CPU usage, memory usage, heap statistics Example metrics exposed: ``` # HELP cloudflow_http_requests_total Total number of HTTP requests # TYPE cloudflow_http_requests_total counter cloudflow_http_requests_total{method=\"GET\",route=\"/api/workflows\",status=\"200\"} 15420 # HELP cloudflow_http_request_duration_seconds HTTP request duration in seconds # TYPE cloudflow_http_request_duration_seconds histogram cloudflow_http_request_duration_seconds_bucket{method=\"POST\",route=\"/api/workflows\",le=\"0.1\"} 8234 # HELP cloudflow_worker_jobs_processed_total Total number of jobs processed # TYPE cloudflow_worker_jobs_processed_total counter cloudflow_worker_jobs_processed_total{status=\"success\"} 45230 # HELP cloudflow_database_connections Current database connections # TYPE cloudflow_database_connections gauge cloudflow_database_connections{state=\"active\"} 23 ``` ### Grafana Dashboards Access Grafana to view CloudFlow dashboards: ```bash kubectl port-forward -n monitoring svc/prometheus-grafana 3000:80 ``` Import the CloudFlow dashboard (ID: 15847) or use the provided JSON template. Key dashboard panels include: 1. **API Performance**: Request rate, P95/P99 latency, error rate 2. **Resource Usage**: CPU, memory, disk I/O per pod 3. **Database Health**: Connection pool utilization, query performance 4. **Worker Status**: Queue depth, processing rate, job success/failure ratio 5. **System Overview**: Pod status, replica count, autoscaling events ### Logging with CloudWatch CloudFlow logs are automatically shipped to CloudWatch Logs.", "enrichment_type": "fast", "metadata": {"code_ratio": 0.23, "processing_time_ms": 52.62, "keyword_count": 10, "entity_count": 11}, "keywords": ["TYPE cloudflow", "Prometheus metrics", "CloudFlow", "exposes Prometheus", "metrics", "total Total", "total", "HTTP", "TYPE", "HTTP Metrics"], "questions": [], "summary": "", "entities": {"ORG": ["CPU", "HELP cloudflow_worker_jobs_processed_total Total", "CloudFlow", "P95/P99", "CloudWatch CloudFlow"], "LAW": ["HELP cloudflow_http_request_duration_seconds"], "PERSON": ["histogram cloudflow_http_request_duration_seconds_bucket{method=\"POST\",route=\"/api", "Grafana Dashboards", "Access Grafana", "JSON", "Queue"]}, "contextual_prefix": ""}