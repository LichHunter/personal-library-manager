{"original_content": "Requester: {{trigger.body.requester}} Description: {{trigger.body.description}} Approve: https://app.company.com/approve/{{steps.create_approval_request.rows[0].id}} Reject: https://app.company.com/reject/{{steps.create_approval_request.rows[0].id}} - id: wait_for_approval action: wait_for_webhook config: timeout: 86400 # 24 hours webhook_path: \"/approval/{{steps.create_approval_request.rows[0].id}}\" - id: process_approval action: javascript code: | if (input.status === 'approved') { return { approved: true }; } else { throw new Error('Expense rejected'); } on_error: - id: notify_rejection action: email config: to: \"{{trigger.body.requester}}\" subject: \"Expense Rejected\" body: \"Your expense request has been rejected.\" - id: process_payment action: http_request config: method: POST url: \"https://api.accounting.com/payments\" body: amount: \"{{trigger.body.amount}}\" recipient: \"{{trigger.body.requester}}\" ``` ### Pattern 4: Data Synchronization Keep two systems in sync bidirectionally: ```yaml name: \"Sync Customers: CRM to Database\" trigger: type: event source: \"salesforce\" event: \"customer.updated\" steps: - id: fetch_customer action: http_request config: url: \"https://api.salesforce.com/customers/{{trigger.customer_id}}\" headers: Authorization: \"Bearer {{secrets.SALESFORCE_TOKEN}}\" - id: check_existing action: database_query config: query: \"SELECT id, last_updated FROM customers WHERE salesforce_id = $1\" parameters: - \"{{trigger.customer_id}}\" - id: update_or_insert action: database_query config: query: | INSERT INTO customers (salesforce_id, name, email, phone, last_updated) VALUES ($1, $2, $3, $4, NOW()) ON CONFLICT (salesforce_id) DO UPDATE SET name = $2, email = $3, phone = $4, last_updated = NOW() parameters: - \"{{trigger.customer_id}}\" - \"{{steps.fetch_customer.body.name}}\" - \"{{steps.fetch_customer.body.email}}\" - \"{{steps.fetch_customer.body.phone}}\" - id: log_sync action: database_query config: query: | INSERT INTO sync_log (source, target, record_id, synced_at) VALUES ('salesforce', 'postgresql', $1, NOW()) parameters: - \"{{trigger.customer_id}}\" ``` ### Pattern 5: Error Aggregation and Alerting Aggregate errors and send smart alerts: ```yaml name: \"Application Error Monitor\" schedule: cron: \"*/5 * * * *\" timezone: \"UTC\" steps: - id: fetch_recent_errors action: database_query config: query: | SELECT error_type, COUNT(*) as count, MAX(created_at) as last_seen FROM error_logs WHERE created_at > NOW() - INTERVAL '5 minutes' AND alerted = false GROUP BY error_type HAVING COUNT(*) > 5 - id: format_alert action: javascript condition: \"{{length(steps.fetch_recent_errors.rows) > 0}}\" code: | const errors = input.rows; let message = \"\u26a0\ufe0f Error Alert\\n\\n\"; for (const error of errors) { message += `\u2022 ${error.error_type}: ${error.count} occurrences (last: ${error.last_seen})\\n`; } return { message, total_errors: errors.reduce((sum, e) => sum + e.count, 0) }; - id: send_alert action: slack_message condition: \"{{steps.format_alert.output.total_errors > 10}}\" config: channel: \"#incidents\" text: \"{{steps.format_alert.output.message}}\" priority: \"high\" - id: mark_alerted action: database_query config: query: | UPDATE error_logs SET alerted = true WHERE created_at > NOW() - INTERVAL '5 minutes' ``` --- ## Getting Help Need assistance with CloudFlow?", "enhanced_content": "Expense rejected, query config, approval action, request config, config, action, expense request | Requester, Bearer, Sync Customers: CRM, UTC, INTERVAL\n\nRequester: {{trigger.body.requester}} Description: {{trigger.body.description}} Approve: https://app.company.com/approve/{{steps.create_approval_request.rows[0].id}} Reject: https://app.company.com/reject/{{steps.create_approval_request.rows[0].id}} - id: wait_for_approval action: wait_for_webhook config: timeout: 86400 # 24 hours webhook_path: \"/approval/{{steps.create_approval_request.rows[0].id}}\" - id: process_approval action: javascript code: | if (input.status === 'approved') { return { approved: true }; } else { throw new Error('Expense rejected'); } on_error: - id: notify_rejection action: email config: to: \"{{trigger.body.requester}}\" subject: \"Expense Rejected\" body: \"Your expense request has been rejected.\" - id: process_payment action: http_request config: method: POST url: \"https://api.accounting.com/payments\" body: amount: \"{{trigger.body.amount}}\" recipient: \"{{trigger.body.requester}}\" ``` ### Pattern 4: Data Synchronization Keep two systems in sync bidirectionally: ```yaml name: \"Sync Customers: CRM to Database\" trigger: type: event source: \"salesforce\" event: \"customer.updated\" steps: - id: fetch_customer action: http_request config: url: \"https://api.salesforce.com/customers/{{trigger.customer_id}}\" headers: Authorization: \"Bearer {{secrets.SALESFORCE_TOKEN}}\" - id: check_existing action: database_query config: query: \"SELECT id, last_updated FROM customers WHERE salesforce_id = $1\" parameters: - \"{{trigger.customer_id}}\" - id: update_or_insert action: database_query config: query: | INSERT INTO customers (salesforce_id, name, email, phone, last_updated) VALUES ($1, $2, $3, $4, NOW()) ON CONFLICT (salesforce_id) DO UPDATE SET name = $2, email = $3, phone = $4, last_updated = NOW() parameters: - \"{{trigger.customer_id}}\" - \"{{steps.fetch_customer.body.name}}\" - \"{{steps.fetch_customer.body.email}}\" - \"{{steps.fetch_customer.body.phone}}\" - id: log_sync action: database_query config: query: | INSERT INTO sync_log (source, target, record_id, synced_at) VALUES ('salesforce', 'postgresql', $1, NOW()) parameters: - \"{{trigger.customer_id}}\" ``` ### Pattern 5: Error Aggregation and Alerting Aggregate errors and send smart alerts: ```yaml name: \"Application Error Monitor\" schedule: cron: \"*/5 * * * *\" timezone: \"UTC\" steps: - id: fetch_recent_errors action: database_query config: query: | SELECT error_type, COUNT(*) as count, MAX(created_at) as last_seen FROM error_logs WHERE created_at > NOW() - INTERVAL '5 minutes' AND alerted = false GROUP BY error_type HAVING COUNT(*) > 5 - id: format_alert action: javascript condition: \"{{length(steps.fetch_recent_errors.rows) > 0}}\" code: | const errors = input.rows; let message = \"\u26a0\ufe0f Error Alert\\n\\n\"; for (const error of errors) { message += `\u2022 ${error.error_type}: ${error.count} occurrences (last: ${error.last_seen})\\n`; } return { message, total_errors: errors.reduce((sum, e) => sum + e.count, 0) }; - id: send_alert action: slack_message condition: \"{{steps.format_alert.output.total_errors > 10}}\" config: channel: \"#incidents\" text: \"{{steps.format_alert.output.message}}\" priority: \"high\" - id: mark_alerted action: database_query config: query: | UPDATE error_logs SET alerted = true WHERE created_at > NOW() - INTERVAL '5 minutes' ``` --- ## Getting Help Need assistance with CloudFlow?", "enrichment_type": "fast", "metadata": {"code_ratio": 0.08, "processing_time_ms": 96.03, "keyword_count": 10, "entity_count": 9}, "keywords": ["Expense rejected", "query config", "approval action", "request config", "config", "action", "expense request", "webhook config", "alert action", "query"], "questions": [], "summary": "", "entities": {"PERSON": ["Requester", "Bearer", "Getting Help"], "WORK_OF_ART": ["Sync Customers: CRM"], "ORG": ["UTC", "INTERVAL", "GROUP BY error_type", "SET", "CloudFlow"]}, "contextual_prefix": ""}