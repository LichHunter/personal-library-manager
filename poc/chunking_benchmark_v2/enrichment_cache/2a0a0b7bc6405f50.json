{"original_content": "# CloudFlow Platform Troubleshooting Guide **Version:** 3.2.1 **Last Updated:** January 2026 **Audience:** Platform Engineers, DevOps, Support Teams ## Table of Contents 1. [Overview](#overview) 2. [Authentication & Authorization Issues](#authentication--authorization-issues) 3. [Performance Problems](#performance-problems) 4. [Database Connection Issues](#database-connection-issues) 5. [Workflow Execution Failures](#workflow-execution-failures) 6. [Rate Limiting & Throttling](#rate-limiting--throttling) 7. [Log Analysis & Debugging](#log-analysis--debugging) 8. [Escalation Procedures](#escalation-procedures) --- ## Overview This guide provides comprehensive troubleshooting steps for common CloudFlow platform issues encountered in production environments. Each section includes error symptoms, root cause analysis, resolution steps, and preventive measures. ### Quick Diagnostic Checklist Before diving into specific issues, perform these initial checks: - Verify service health: `cloudflow status --all` - Check API connectivity: `curl -I https://api.cloudflow.io/health` - Review recent deployments: `kubectl get deployments -n cloudflow --sort-by=.metadata.creationTimestamp` - Inspect platform metrics: `cloudflow metrics --last 1h` --- ## Authentication & Authorization Issues ### 401 Unauthorized Errors #### Symptoms - API requests return `401 Unauthorized` - Error message: `Authentication credentials were not provided or are invalid` - Frontend displays \"Session expired\" message #### Common Causes **1. Token Expiration** CloudFlow access tokens expire after 3600 seconds (1 hour) by default. Refresh tokens are valid for 30 days. **Verification:** ```bash # Decode JWT to check expiration echo $CF_ACCESS_TOKEN | cut -d'.' -f2 | base64 -d | jq '.exp' # Compare with current time date +%s ``` **Resolution:** ```bash # Refresh the access token curl -X POST https://api.cloudflow.io/auth/refresh \\ -H \"Content-Type: application/json\" \\ -d '{\"refresh_token\": \"'$CF_REFRESH_TOKEN'\"}' # Update environment variable export CF_ACCESS_TOKEN=\"<new_token>\" ``` **2. Invalid JWT Signature** Error: `JWT signature verification failed` **Causes:** - Token was modified or corrupted - Using wrong signing key - Token generated with different secret **Resolution:** ```bash # Validate token structure cloudflow auth validate --token $CF_ACCESS_TOKEN # Generate new token cloudflow auth login --username <user> --password <pass> # For service accounts cloudflow auth service-account --create --name <sa-name> --scopes \"workflow:read,workflow:write\" ``` **3. Clock Skew Issues** JWT validation fails when system clocks are out of sync (tolerance: \u00b1300 seconds).", "enhanced_content": "Support Teams, Platform Engineers, Version, January, Audience, Updated, Engineers | DevOps, Support Teams, Contents 1, Quick Diagnostic, Invalid JWT Signature\n\n# CloudFlow Platform Troubleshooting Guide **Version:** 3.2.1 **Last Updated:** January 2026 **Audience:** Platform Engineers, DevOps, Support Teams ## Table of Contents 1. [Overview](#overview) 2. [Authentication & Authorization Issues](#authentication--authorization-issues) 3. [Performance Problems](#performance-problems) 4. [Database Connection Issues](#database-connection-issues) 5. [Workflow Execution Failures](#workflow-execution-failures) 6. [Rate Limiting & Throttling](#rate-limiting--throttling) 7. [Log Analysis & Debugging](#log-analysis--debugging) 8. [Escalation Procedures](#escalation-procedures) --- ## Overview This guide provides comprehensive troubleshooting steps for common CloudFlow platform issues encountered in production environments. Each section includes error symptoms, root cause analysis, resolution steps, and preventive measures. ### Quick Diagnostic Checklist Before diving into specific issues, perform these initial checks: - Verify service health: `cloudflow status --all` - Check API connectivity: `curl -I https://api.cloudflow.io/health` - Review recent deployments: `kubectl get deployments -n cloudflow --sort-by=.metadata.creationTimestamp` - Inspect platform metrics: `cloudflow metrics --last 1h` --- ## Authentication & Authorization Issues ### 401 Unauthorized Errors #### Symptoms - API requests return `401 Unauthorized` - Error message: `Authentication credentials were not provided or are invalid` - Frontend displays \"Session expired\" message #### Common Causes **1. Token Expiration** CloudFlow access tokens expire after 3600 seconds (1 hour) by default. Refresh tokens are valid for 30 days. **Verification:** ```bash # Decode JWT to check expiration echo $CF_ACCESS_TOKEN | cut -d'.' -f2 | base64 -d | jq '.exp' # Compare with current time date +%s ``` **Resolution:** ```bash # Refresh the access token curl -X POST https://api.cloudflow.io/auth/refresh \\ -H \"Content-Type: application/json\" \\ -d '{\"refresh_token\": \"'$CF_REFRESH_TOKEN'\"}' # Update environment variable export CF_ACCESS_TOKEN=\"<new_token>\" ``` **2. Invalid JWT Signature** Error: `JWT signature verification failed` **Causes:** - Token was modified or corrupted - Using wrong signing key - Token generated with different secret **Resolution:** ```bash # Validate token structure cloudflow auth validate --token $CF_ACCESS_TOKEN # Generate new token cloudflow auth login --username <user> --password <pass> # For service accounts cloudflow auth service-account --create --name <sa-name> --scopes \"workflow:read,workflow:write\" ``` **3. Clock Skew Issues** JWT validation fails when system clocks are out of sync (tolerance: \u00b1300 seconds).", "enrichment_type": "fast", "metadata": {"code_ratio": 0.36, "processing_time_ms": 54.29, "keyword_count": 10, "entity_count": 8}, "keywords": ["Support Teams", "Platform Engineers", "Version", "January", "Audience", "Updated", "Engineers", "Support", "Teams", "Table"], "questions": [], "summary": "", "entities": {"ORG": ["DevOps", "Support Teams", "Authentication & Authorization Issues](#authentication", "Rate Limiting & Throttling](#rate", "Log Analysis &"], "LAW": ["Contents 1"], "PERSON": ["Quick Diagnostic", "Invalid JWT Signature"]}, "contextual_prefix": ""}