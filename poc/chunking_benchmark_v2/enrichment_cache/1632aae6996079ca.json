{"original_content": "per API key (default: 1000 RPM) ### Secrets Management **HashiCorp Vault Integration**: - Dynamic database credentials: Generated on-demand, 1-hour TTL - Encryption keys: Transit secrets engine for encryption-as-a-service - API keys for external services: Stored with versioning - Rotation policy: Automated rotation every 90 days with notification **Secret Access Pattern**: ``` Service starts \u2192 Vault authentication (Kubernetes service account) \u2502 \u25bc Request secret lease (1-hour TTL) \u2502 \u25bc Vault returns dynamic credentials \u2502 \u25bc Service connects to PostgreSQL \u2502 Renew lease every 30 minutes ``` ### Data Protection **Encryption at Rest**: - PostgreSQL: AES-256 encryption enabled at volume level - Redis: Encryption enabled using AWS KMS - Kafka: Encryption at rest for all data on brokers - S3 backups: Server-side encryption with KMS (SSE-KMS) **Encryption in Transit**: - External traffic: TLS 1.3 only (TLS 1.2 deprecated) - Internal traffic: mTLS via Istio service mesh - Database connections: SSL/TLS enforced (sslmode=require) **Data Masking**: - Sensitive fields (email, phone) masked in logs - PII redacted from error messages and stack traces - Audit logs: Full data retention with access controls **Compliance**: - GDPR: User data export and deletion workflows - SOC 2 Type II: Audit logging for all data access - HIPAA: PHI isolation in dedicated tenants with enhanced encryption --- ## Performance Characteristics ### Latency Targets **API Operations** (P99 latency): - `GET /workflows/{id}`: < 50ms (cache hit), < 150ms (cache miss) - `POST /workflows`: < 200ms (includes validation and database write) - `POST /workflows/{id}/execute`: < 100ms (async, returns execution ID) - `GET /workflows/{id}/history`: < 300ms (paginated, 50 records per page) **Workflow Execution** (P99 latency): - Simple workflow (< 5 steps): < 2 seconds - Medium workflow (5-15 steps): < 5 seconds - Complex workflow (> 15 steps): < 15 seconds - Parallel execution: Linear scaling up to 10 concurrent branches **Database Operations** (P99 latency): - Simple SELECT: < 5ms - JOIN query: < 20ms - INSERT/UPDATE: < 10ms - Batch operations: < 100ms (batch size: 100 records) **Cache Operations** (P99 latency): - Redis GET: < 2ms - Redis SET: < 3ms - Redis DEL: < 2ms ### Throughput Capacity **API Gateway**: - Sustained: 10,000 requests per second - Peak: 25,000 requests per second (5-minute burst) - Rate limiting: 1,000 requests per minute per API key **Workflow Engine**: - Concurrent executions: 8,000 workflows (across 16 pods)", "enhanced_content": "API Operations, API key, Redis SET, Redis DEL, API Gateway, Simple SELECT, Performance Characteristics | API, TTL - Encryption, Request, TTL, PostgreSQL\n\nper API key (default: 1000 RPM) ### Secrets Management **HashiCorp Vault Integration**: - Dynamic database credentials: Generated on-demand, 1-hour TTL - Encryption keys: Transit secrets engine for encryption-as-a-service - API keys for external services: Stored with versioning - Rotation policy: Automated rotation every 90 days with notification **Secret Access Pattern**: ``` Service starts \u2192 Vault authentication (Kubernetes service account) \u2502 \u25bc Request secret lease (1-hour TTL) \u2502 \u25bc Vault returns dynamic credentials \u2502 \u25bc Service connects to PostgreSQL \u2502 Renew lease every 30 minutes ``` ### Data Protection **Encryption at Rest**: - PostgreSQL: AES-256 encryption enabled at volume level - Redis: Encryption enabled using AWS KMS - Kafka: Encryption at rest for all data on brokers - S3 backups: Server-side encryption with KMS (SSE-KMS) **Encryption in Transit**: - External traffic: TLS 1.3 only (TLS 1.2 deprecated) - Internal traffic: mTLS via Istio service mesh - Database connections: SSL/TLS enforced (sslmode=require) **Data Masking**: - Sensitive fields (email, phone) masked in logs - PII redacted from error messages and stack traces - Audit logs: Full data retention with access controls **Compliance**: - GDPR: User data export and deletion workflows - SOC 2 Type II: Audit logging for all data access - HIPAA: PHI isolation in dedicated tenants with enhanced encryption --- ## Performance Characteristics ### Latency Targets **API Operations** (P99 latency): - `GET /workflows/{id}`: < 50ms (cache hit), < 150ms (cache miss) - `POST /workflows`: < 200ms (includes validation and database write) - `POST /workflows/{id}/execute`: < 100ms (async, returns execution ID) - `GET /workflows/{id}/history`: < 300ms (paginated, 50 records per page) **Workflow Execution** (P99 latency): - Simple workflow (< 5 steps): < 2 seconds - Medium workflow (5-15 steps): < 5 seconds - Complex workflow (> 15 steps): < 15 seconds - Parallel execution: Linear scaling up to 10 concurrent branches **Database Operations** (P99 latency): - Simple SELECT: < 5ms - JOIN query: < 20ms - INSERT/UPDATE: < 10ms - Batch operations: < 100ms (batch size: 100 records) **Cache Operations** (P99 latency): - Redis GET: < 2ms - Redis SET: < 3ms - Redis DEL: < 2ms ### Throughput Capacity **API Gateway**: - Sustained: 10,000 requests per second - Peak: 25,000 requests per second (5-minute burst) - Rate limiting: 1,000 requests per minute per API key **Workflow Engine**: - Concurrent executions: 8,000 workflows (across 16 pods)", "enrichment_type": "fast", "metadata": {"code_ratio": 0.12, "processing_time_ms": 81.94, "keyword_count": 10, "entity_count": 14}, "keywords": ["API Operations", "API key", "Redis SET", "Redis DEL", "API Gateway", "Simple SELECT", "Performance Characteristics", "Throughput Capacity", "AWS KMS", "Batch operations"], "questions": [], "summary": "", "entities": {"ORG": ["API", "TTL - Encryption", "Vault", "Kubernetes", "KMS"], "PERSON": ["Request", "TTL", "Renew", "150ms", "200ms"], "GPE": ["PostgreSQL"], "WORK_OF_ART": ["GET /workflows/{id", "POST", "GET"]}, "contextual_prefix": ""}