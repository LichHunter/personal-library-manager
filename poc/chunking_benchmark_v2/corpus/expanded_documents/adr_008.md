# ADR-008: Use S3 for Object Storage

**Status:** Accepted
**Date:** 2024-10-14

## Context

We need storage for workflow artifacts, execution outputs, and user uploads.

## Options Considered

### Option 1: Amazon S3

Object storage service.

**Pros:**
- 99.999999999% durability
- Lifecycle policies
- Event notifications
- CDN integration

**Cons:**
- AWS lock-in
- Eventual consistency for overwrites
- Cost at scale

### Option 2: Self-hosted MinIO

S3-compatible object storage.

**Pros:**
- No vendor lock-in
- S3 compatible
- On-premises option

**Cons:**
- Operational burden
- Lower durability guarantees
- Scaling complexity

### Option 3: Google Cloud Storage

GCP object storage.

**Pros:**
- Strong consistency
- Good performance
- Unified billing

**Cons:**
- GCP lock-in
- Fewer features than S3
- Smaller ecosystem

## Decision

We will use Amazon S3 for object storage with intelligent tiering for cost optimization.

## Consequences

- Enable versioning for critical buckets
- Implement lifecycle policies
- Use pre-signed URLs for uploads
- Enable server-side encryption