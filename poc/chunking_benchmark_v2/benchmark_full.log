[21:51:29] INFO  | Loading config from /home/fujin/Code/personal-library-manager/poc/chunking_benchmark_v2/config_enriched.yaml

================================================================================
[21:51:29] INFO  | COMPREHENSIVE RETRIEVAL BENCHMARK
================================================================================

================================================================================
[21:51:29] INFO  | BENCHMARK CONFIGURATION
================================================================================
[21:51:29] METRIC | device=cuda
[21:51:29] METRIC | ollama_available=True
[21:51:29] INFO  | Device: cuda
[21:51:29] INFO  | Ollama available: True
[21:51:29] INFO  | Loading corpus...
[21:51:29] METRIC | documents=5
[21:51:29] METRIC | queries=20
[21:51:29] METRIC | total_facts=53
[21:51:29] METRIC | has_human_queries=True
[21:51:29] INFO  | Loaded 5 documents
[21:51:29] INFO  | Loaded 20 queries
[21:51:29] INFO  | Total key facts: 53
[21:51:29] INFO  | Human query variations: True
[21:51:29] INFO  | Enabled embedders: 1
[21:51:29] INFO  | Enabled rerankers: 0
[21:51:29] INFO  | Enabled LLMs: 1
[21:51:29] INFO  | Enabled chunking strategies: 1
[21:51:29] INFO  | Enabled retrieval strategies: 12
[21:51:29] METRIC | total_combinations=12
[21:51:29] METRIC | total_evaluations=12
[21:51:29] INFO  | Total strategy combinations: 12
[21:51:29] INFO  | Total evaluations (with k and metrics): 12

================================================================================
[21:51:29] INFO  | RETRIEVAL STRATEGY: semantic
================================================================================
[21:51:29] INFO  | Loading embedder: BAAI/bge-base-en-v1.5
[21:51:32] PROG  | [  1/ 12] █░░░░░░░░░░░░░░░░░░░   8.3% | semantic_bge-base-en-v1.5_fixed_512_0pct
[21:51:32] INFO  |   Created 51 chunks
[21:51:33] INFO  |   Indexed in 1.13s
[21:51:34] INFO  |   k=5 exact_match: 67.9% (36/53)
[21:51:34] INFO  |     synonym: 60.4%
[21:51:34] INFO  |     problem: 54.7%
[21:51:34] INFO  |     casual: 54.7%
[21:51:34] INFO  |     contextual: 62.3%
[21:51:34] INFO  |     negation: 54.7%

================================================================================
[21:51:34] INFO  | RETRIEVAL STRATEGY: hybrid
================================================================================
[21:51:34] INFO  | Loading embedder: BAAI/bge-base-en-v1.5
[21:51:36] PROG  | [  2/ 12] ███░░░░░░░░░░░░░░░░░  16.7% | hybrid_bge-base-en-v1.5_fixed_512_0pct
[21:51:36] INFO  |   Created 51 chunks
[21:51:37] INFO  |   Indexed in 0.97s
[21:51:38] INFO  |   k=5 exact_match: 75.5% (40/53)
[21:51:38] INFO  |     synonym: 69.8%
[21:51:38] INFO  |     problem: 54.7%
[21:51:38] INFO  |     casual: 64.2%
[21:51:38] INFO  |     contextual: 60.4%
[21:51:38] INFO  |     negation: 52.8%

================================================================================
[21:51:38] INFO  | RETRIEVAL STRATEGY: lod
================================================================================
[21:51:38] INFO  | Loading embedder: BAAI/bge-base-en-v1.5
[21:51:40] PROG  | [  3/ 12] █████░░░░░░░░░░░░░░░  25.0% | lod_bge-base-en-v1.5
[21:51:44] INFO  |   Indexed in 3.24s
[21:51:44] INFO  |   k=5 exact_match: 43.4% (23/53)
[21:51:44] INFO  |     synonym: 54.7%
[21:51:44] INFO  |     problem: 39.6%
[21:51:44] INFO  |     casual: 50.9%
[21:51:44] INFO  |     contextual: 49.1%
[21:51:44] INFO  |     negation: 26.4%

================================================================================
[21:51:44] INFO  | RETRIEVAL STRATEGY: enriched_keywords_3b
================================================================================
[21:51:44] INFO  | Loading embedder: BAAI/bge-base-en-v1.5
[21:51:47] PROG  | [  4/ 12] ██████░░░░░░░░░░░░░░  33.3% | enriched_keywords_3b_bge-base-en-v1.5_llama3.2_3b
    [enriching 10] keywords with llama3.2:3b...
    [enriching 20] keywords with llama3.2:3b...
    [enriching 30] keywords with llama3.2:3b...
    [enriching 40] keywords with llama3.2:3b...
    [enriching 50] keywords with llama3.2:3b...
    [enriching 60] keywords with llama3.2:3b...
    [enriching 70] keywords with llama3.2:3b...
    [enriching 80] keywords with llama3.2:3b...
    [enriching 90] keywords with llama3.2:3b...
    [enriching 100] keywords with llama3.2:3b...
    [enriching 110] keywords with llama3.2:3b...
    [enriching 120] keywords with llama3.2:3b...
    [enriching 130] keywords with llama3.2:3b...
    [enriching 140] keywords with llama3.2:3b...
    [enriching 150] keywords with llama3.2:3b...
    [enriching 160] keywords with llama3.2:3b...
    [enriching 170] keywords with llama3.2:3b...
    [enriching 180] keywords with llama3.2:3b...
    [enriching 190] keywords with llama3.2:3b...
    [enriching 200] keywords with llama3.2:3b...
    [enriching 210] keywords with llama3.2:3b...
    [enriching 220] keywords with llama3.2:3b...
    [enriching 230] keywords with llama3.2:3b...
    [enriching 240] keywords with llama3.2:3b...
    [enriching 250] keywords with llama3.2:3b...
    [enriching 260] keywords with llama3.2:3b...
    [enriching 270] keywords with llama3.2:3b...
    [enriching 280] keywords with llama3.2:3b...
    [enriching 290] keywords with llama3.2:3b...
    [enriching 300] keywords with llama3.2:3b...
    [enriching 310] keywords with llama3.2:3b...
    [enriching 320] keywords with llama3.2:3b...
    [enriching 330] keywords with llama3.2:3b...
    [enriching 340] keywords with llama3.2:3b...
    [enriching 350] keywords with llama3.2:3b...
    [enriching 360] keywords with llama3.2:3b...
    [enriching 370] keywords with llama3.2:3b...
    [enriching 380] keywords with llama3.2:3b...
    [enriching 390] keywords with llama3.2:3b...
    [enriching 400] keywords with llama3.2:3b...
    [enriching 410] keywords with llama3.2:3b...
    [enriching 420] keywords with llama3.2:3b...
    [enriching 430] keywords with llama3.2:3b...
    [enriching 440] keywords with llama3.2:3b...
    [enriching 450] keywords with llama3.2:3b...
    [enriching 460] keywords with llama3.2:3b...
    [enriching 470] keywords with llama3.2:3b...
    [enriching 480] keywords with llama3.2:3b...
    [enriching 490] keywords with llama3.2:3b...
    [enriching 500] keywords with llama3.2:3b...
    [enriching 510] keywords with llama3.2:3b...
    [enriching 520] keywords with llama3.2:3b...
    [enriching 530] keywords with llama3.2:3b...
    [enriching 540] keywords with llama3.2:3b...
    [enriching 550] keywords with llama3.2:3b...
    [enriching 560] keywords with llama3.2:3b...
    [enriching 570] keywords with llama3.2:3b...
    [enriching 580] keywords with llama3.2:3b...
    [enriching 590] keywords with llama3.2:3b...
    [enriching 600] keywords with llama3.2:3b...
    [enriching 610] keywords with llama3.2:3b...
    [enriching 620] keywords with llama3.2:3b...
    [enriching 630] keywords with llama3.2:3b...
    [enriching 640] keywords with llama3.2:3b...
    [enriching 650] keywords with llama3.2:3b...
    [enriching 660] keywords with llama3.2:3b...
    [enriching 670] keywords with llama3.2:3b...
    [enriching 680] keywords with llama3.2:3b...
    [enriching 690] keywords with llama3.2:3b...
    [enriching 700] keywords with llama3.2:3b...
    [enriching 710] keywords with llama3.2:3b...
    [enriching 720] keywords with llama3.2:3b...
    [enriching 730] keywords with llama3.2:3b...
    [enriching 740] keywords with llama3.2:3b...
    [enriching 750] keywords with llama3.2:3b...
    [enriching 760] keywords with llama3.2:3b...
    [enriched] docs=5 sections=391 chunks=391 total=787
    [stats] new_enrichments=767 cache_hits=20 time=2193.1s
[22:28:20] INFO  |   Indexed in 2193.08s
[22:28:20] INFO  |   k=5 exact_match: 45.3% (24/53)
[22:28:20] INFO  |     synonym: 58.5%
[22:28:20] INFO  |     problem: 43.4%
[22:28:20] INFO  |     casual: 50.9%
[22:28:20] INFO  |     contextual: 52.8%
[22:28:20] INFO  |     negation: 28.3%

================================================================================
[22:28:20] INFO  | RETRIEVAL STRATEGY: enriched_contextual_3b
================================================================================
[22:28:20] INFO  | Loading embedder: BAAI/bge-base-en-v1.5
[22:28:23] PROG  | [  5/ 12] ████████░░░░░░░░░░░░  41.7% | enriched_contextual_3b_bge-base-en-v1.5_llama3.2_3b
    [enriching 10] contextual with llama3.2:3b...
    [enriching 20] contextual with llama3.2:3b...
    [enriching 30] contextual with llama3.2:3b...
    [enriching 40] contextual with llama3.2:3b...
    [enriching 50] contextual with llama3.2:3b...
    [enriching 60] contextual with llama3.2:3b...
    [enriching 70] contextual with llama3.2:3b...
    [enriching 80] contextual with llama3.2:3b...
    [enriching 90] contextual with llama3.2:3b...
    [enriching 100] contextual with llama3.2:3b...
    [enriching 110] contextual with llama3.2:3b...
    [enriching 120] contextual with llama3.2:3b...
    [enriching 130] contextual with llama3.2:3b...
    [enriching 140] contextual with llama3.2:3b...
    [enriching 150] contextual with llama3.2:3b...
    [enriching 160] contextual with llama3.2:3b...
    [enriching 170] contextual with llama3.2:3b...
    [enriching 180] contextual with llama3.2:3b...
    [enriching 190] contextual with llama3.2:3b...
    [enriching 200] contextual with llama3.2:3b...
    [enriching 210] contextual with llama3.2:3b...
    [enriching 220] contextual with llama3.2:3b...
    [enriching 230] contextual with llama3.2:3b...
    [enriching 240] contextual with llama3.2:3b...
    [enriching 250] contextual with llama3.2:3b...
    [enriching 260] contextual with llama3.2:3b...
    [enriching 270] contextual with llama3.2:3b...
    [enriching 280] contextual with llama3.2:3b...
    [enriching 290] contextual with llama3.2:3b...
    [enriching 300] contextual with llama3.2:3b...
    [enriching 310] contextual with llama3.2:3b...
    [enriching 320] contextual with llama3.2:3b...
    [enriching 330] contextual with llama3.2:3b...
    [enriching 340] contextual with llama3.2:3b...
    [enriching 350] contextual with llama3.2:3b...
    [enriching 360] contextual with llama3.2:3b...
    [enriching 370] contextual with llama3.2:3b...
    [enriching 380] contextual with llama3.2:3b...
    [enriching 390] contextual with llama3.2:3b...
    [enriching 400] contextual with llama3.2:3b...
    [enriching 410] contextual with llama3.2:3b...
    [enriching 420] contextual with llama3.2:3b...
    [enriching 430] contextual with llama3.2:3b...
    [enriching 440] contextual with llama3.2:3b...
    [enriching 450] contextual with llama3.2:3b...
    [enriching 460] contextual with llama3.2:3b...
    [enriching 470] contextual with llama3.2:3b...
    [enriching 480] contextual with llama3.2:3b...
    [enriching 490] contextual with llama3.2:3b...
    [enriching 500] contextual with llama3.2:3b...
    [enriching 510] contextual with llama3.2:3b...
    [enriching 520] contextual with llama3.2:3b...
    [enriching 530] contextual with llama3.2:3b...
    [enriching 540] contextual with llama3.2:3b...
    [enriching 550] contextual with llama3.2:3b...
    [enriching 560] contextual with llama3.2:3b...
    [enriching 570] contextual with llama3.2:3b...
    [enriching 580] contextual with llama3.2:3b...
    [enriching 590] contextual with llama3.2:3b...
    [enriching 600] contextual with llama3.2:3b...
    [enriching 610] contextual with llama3.2:3b...
    [enriching 620] contextual with llama3.2:3b...
    [enriching 630] contextual with llama3.2:3b...
    [enriching 640] contextual with llama3.2:3b...
    [enriching 650] contextual with llama3.2:3b...
    [enriching 660] contextual with llama3.2:3b...
    [enriching 670] contextual with llama3.2:3b...
    [enriching 680] contextual with llama3.2:3b...
    [enriching 690] contextual with llama3.2:3b...
    [enriching 700] contextual with llama3.2:3b...
    [enriching 710] contextual with llama3.2:3b...
    [enriching 720] contextual with llama3.2:3b...
    [enriching 730] contextual with llama3.2:3b...
    [enriching 740] contextual with llama3.2:3b...
    [enriching 750] contextual with llama3.2:3b...
    [enriching 760] contextual with llama3.2:3b...
    [enriched] docs=5 sections=391 chunks=391 total=787
    [stats] new_enrichments=767 cache_hits=20 time=3577.0s
[23:28:00] INFO  |   Indexed in 3576.98s
[23:28:01] INFO  |   k=5 exact_match: 66.0% (35/53)
[23:28:01] INFO  |     synonym: 52.8%
[23:28:01] INFO  |     problem: 45.3%
[23:28:01] INFO  |     casual: 52.8%
[23:28:01] INFO  |     contextual: 50.9%
[23:28:01] INFO  |     negation: 32.1%

================================================================================
[23:28:01] INFO  | RETRIEVAL STRATEGY: enriched_questions_3b
================================================================================
[23:28:01] INFO  | Loading embedder: BAAI/bge-base-en-v1.5
[23:28:03] PROG  | [  6/ 12] ██████████░░░░░░░░░░  50.0% | enriched_questions_3b_bge-base-en-v1.5_llama3.2_3b
    [enriching 10] questions with llama3.2:3b...
    [enriching 20] questions with llama3.2:3b...
    [enriching 30] questions with llama3.2:3b...
    [enriching 40] questions with llama3.2:3b...
    [enriching 50] questions with llama3.2:3b...
    [enriching 60] questions with llama3.2:3b...
    [enriching 70] questions with llama3.2:3b...
    [enriching 80] questions with llama3.2:3b...
    [enriching 90] questions with llama3.2:3b...
    [enriching 100] questions with llama3.2:3b...
    [enriching 110] questions with llama3.2:3b...
    [enriching 120] questions with llama3.2:3b...
    [enriching 130] questions with llama3.2:3b...
    [enriching 140] questions with llama3.2:3b...
    [enriching 150] questions with llama3.2:3b...
    [enriching 160] questions with llama3.2:3b...
    [enriching 170] questions with llama3.2:3b...
    [enriching 180] questions with llama3.2:3b...
    [enriching 190] questions with llama3.2:3b...
    [enriching 200] questions with llama3.2:3b...
    [enriching 210] questions with llama3.2:3b...
    [enriching 220] questions with llama3.2:3b...
    [enriching 230] questions with llama3.2:3b...
    [enriching 240] questions with llama3.2:3b...
    [enriching 250] questions with llama3.2:3b...
    [enriching 260] questions with llama3.2:3b...
    [enriching 270] questions with llama3.2:3b...
    [enriching 280] questions with llama3.2:3b...
    [enriching 290] questions with llama3.2:3b...
    [enriching 300] questions with llama3.2:3b...
    [enriching 310] questions with llama3.2:3b...
[23:48:38] ERROR |   ERROR: [Errno 2] No such file or directory: 'enrichment_cache/2b06a3400e16a3d9.json'
Traceback (most recent call last):
  File "/home/fujin/Code/personal-library-manager/poc/chunking_benchmark_v2/run_benchmark.py", line 507, in run_benchmark
    strategy.index(
    ~~~~~~~~~~~~~~^
        chunks=chunks,
        ^^^^^^^^^^^^^^
    ...<3 lines>...
        else None,
        ^^^^^^^^^^
    )
    ^
  File "/home/fujin/Code/personal-library-manager/poc/chunking_benchmark_v2/retrieval/enriched_lod.py", line 143, in index
    enriched = self._enrich_content(
        text, {"doc_title": doc.title, "section": section.heading}
    )
  File "/home/fujin/Code/personal-library-manager/poc/chunking_benchmark_v2/retrieval/enriched_lod.py", line 103, in _enrich_content
    self.cache.put(content, etype, self.llm_model, result)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/fujin/Code/personal-library-manager/poc/chunking_benchmark_v2/enrichment/cache.py", line 70, in put
    with open(path, "w") as f:
         ~~~~^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'enrichment_cache/2b06a3400e16a3d9.json'

================================================================================
[23:48:38] INFO  | RETRIEVAL STRATEGY: enriched_summary_3b
================================================================================
[23:48:38] INFO  | Loading embedder: BAAI/bge-base-en-v1.5
[23:48:41] PROG  | [  7/ 12] ███████████░░░░░░░░░  58.3% | enriched_summary_3b_bge-base-en-v1.5_llama3.2_3b
